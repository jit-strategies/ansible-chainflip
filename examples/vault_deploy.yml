---
- name: Provision validator
  hosts: all
  gather_facts: true
  become: true
  tasks:
    - name: Deploy Chainflip node
      ansible.builtin.include_role:
        name: jitstrategies.chainflip.node
      vars:
        node_archive: true
        node_validator: true
        # example encrypted key (pass: foobar, key: 0xD84cCB502C326FAD0B24CF4af1AA5288d2E545EB)
        engine_eth_private_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35346235373866623064653733616535616536613464346564393037313764626537393335613832
          3432356665333861366330373233323263383065636630390a303638323361363234643038363161
          32303061363364353335646166333664363064663138346333626239623334366566633661626639
          6166626364316463620a323831363633393838616535366630343062313334626666363631316336
          64336161656634363765393864636638636665373233386331313563646133323937383037386231
          34613438356264656466653037343663613064623464646161336166386330646663396537323139
          66326461373861313830313366353265643039616637306638643065656632373663313764336464
          32343533303339633164
        # This is a non valid endpoint
        engine_eth_ws_node_endpoint: "wss://goerli.infura.io/ws/v3/3bff9a8745d1952291aa895d3fd42097"
        engine_eth_http_node_endpoint: "https://goerli.infura.io/ws/v3/3bff9a8745d1952291aa895d3fd42097"
